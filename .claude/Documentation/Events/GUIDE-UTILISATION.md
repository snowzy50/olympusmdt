# Guide d'Utilisation - Calendrier des √âv√©nements

**Date**: 2025-11-01  
**Cr√©√© par**: Snowzy  
**Version**: 1.0

## Table des mati√®res

1. [Acc√©der au calendrier](#acc√©der-au-calendrier)
2. [Cr√©er un √©v√©nement](#cr√©er-un-√©v√©nement)
3. [Modifier un √©v√©nement](#modifier-un-√©v√©nement)
4. [Supprimer un √©v√©nement](#supprimer-un-√©v√©nement)
5. [Filtrer et rechercher](#filtrer-et-rechercher)
6. [Affichage calendrier](#affichage-calendrier)
7. [FAQ](#faq)

---

## Acc√©der au calendrier

### URLs disponibles

Chaque agence a son propre calendrier:

**Police d'√âtat (SASP)**:
```
https://votre-domaine.com/dashboard/sasp/events
```

**Services M√©dicaux (SAMC)**:
```
https://votre-domaine.com/dashboard/samc/events
```

**Pompiers (SAFD)**:
```
https://votre-domaine.com/dashboard/safd/events
```

**Immobilier (Dynasty 8)**:
```
https://votre-domaine.com/dashboard/dynasty8/events
```

**Justice (DOJ)**:
```
https://votre-domaine.com/dashboard/doj/events
```

**Vue globale** (tous les √©v√©nements):
```
https://votre-domaine.com/dashboard/events
```

---

## Cr√©er un √©v√©nement

### √âtape 1: Ouvrir le formulaire

1. Cliquez sur le bouton **"Nouvel √âv√©nement"** en haut √† droite
2. Une modale s'ouvre avec le formulaire de cr√©ation

### √âtape 2: Remplir les informations obligatoires

**Titre** (requis):
- Entrez un titre court et descriptif
- Ex: "Briefing matinal", "Formation tir", "R√©union supervision"

**Cat√©gorie** (requis):
- Choisissez une cat√©gorie dans la liste d√©roulante:
  - **Patrouille** (Patrouilles r√©guli√®res)
  - **Formation** (Formations et entra√Ænements)
  - **R√©union** (R√©unions de coordination)
  - **Op√©ration** (Op√©rations sp√©ciales)
  - **Maintenance** (Entretien du mat√©riel)
  - **Tribunal** (Comparutions judiciaires)
  - **Personnel** (√âv√©nements personnels)
  - **Autre** (Cat√©gorie par d√©faut)

**Date de d√©but** (requis):
- Cliquez sur le champ et s√©lectionnez la date
- Format: YYYY-MM-DD

**Date de fin** (requis):
- Pour les √©v√©nements multijournal, s√©lectionnez la date finale
- Par d√©faut: m√™me jour que le d√©but

### √âtape 3: Remplir les informations optionnelles

**Description**:
- D√©tails suppl√©mentaires sur l'√©v√©nement
- Ex: "Recyclage annuel", "Audit technique"

**Lieu**:
- Endroit o√π se d√©roulera l'√©v√©nement
- Ex: "Salle de briefing", "Stand de tir", "Palais de justice"

**Heure de d√©but** et **Heure de fin**:
- Si non coch√© "√âv√©nement sur toute la journ√©e"
- Format: HH:MM (24 heures)

**√âv√©nement sur toute la journ√©e**:
- Cochez cette option pour les √©v√©nements sans heure sp√©cifique
- Exemples: cong√©s, jours f√©ri√©s, formations √† la journ√©e

### √âtape 4: Valider

Cliquez sur **"Cr√©er l'√©v√©nement"** pour sauvegarder.

La modale se ferme et le calendrier est mis √† jour automatiquement.

---

## Modifier un √©v√©nement

### M√©thode 1: Via le calendrier

1. Cliquez sur un √©v√©nement dans le calendrier
2. La modale de d√©tails s'ouvre
3. Cliquez sur le bouton **"Modifier"**
4. Le formulaire se remplit avec les donn√©es existantes
5. Modifiez les informations
6. Cliquez sur **"Modifier l'√©v√©nement"**

### M√©thode 2: Via la liste des √©v√©nements √† venir

1. Dans la section "√âv√©nements √† venir", cliquez sur l'√©v√©nement
2. La modale de d√©tails s'ouvre
3. Proc√©dez comme ci-dessus

### Champs modifiables

Tous les champs sont modifiables:
- Titre
- Description
- Cat√©gorie
- Dates et heures
- Lieu
- Type "toute la journ√©e"

Les modifications sont sauvegard√©es instantan√©ment.

---

## Supprimer un √©v√©nement

### Proc√©dure

1. Cliquez sur un √©v√©nement (calendrier ou liste)
2. La modale de d√©tails s'ouvre
3. Cliquez sur le bouton **"Supprimer"** (rouge)
4. Une confirmation est demand√©e
5. Cliquez sur **"OK"** pour confirmer

L'√©v√©nement est supprim√© instantan√©ment du calendrier.

---

## Filtrer et rechercher

### Filtrer par cat√©gorie

1. Utilisez la liste d√©roulante **"Toutes cat√©gories"** en haut du calendrier
2. S√©lectionnez une cat√©gorie pour afficher uniquement les √©v√©nements de cette cat√©gorie
3. Le calendrier se met √† jour instantan√©ment

### Rechercher par mot-cl√©

1. Utilisez le champ **"Rechercher..."** √† droite du filtre de cat√©gorie
2. Entrez un mot-cl√© (titre, description, lieu)
3. Seuls les √©v√©nements correspondants sont affich√©s

### Combinaison filtres + recherche

Vous pouvez combiner les deux:
- S√©lectionnez une cat√©gorie
- Tapez un mot-cl√© dans la recherche
- Seuls les √©v√©nements correspondant aux DEUX crit√®res s'affichent

### R√©initialiser les filtres

- Vider la recherche (champ vide)
- S√©lectionner "Toutes cat√©gories" dans le dropdown

---

## Affichage calendrier

### Structure du calendrier

**En-t√™tes**: 
- Dim, Lun, Mar, Mer, Jeu, Ven, Sam

**Navigation**:
- Bouton **"<"** pour le mois pr√©c√©dent
- Bouton **"Aujourd'hui"** pour revenir √† la date actuelle
- Bouton **">"** pour le mois suivant
- Le nom du mois et l'ann√©e s'affichent au centre

### Affichage des √©v√©nements

**Sur chaque jour**:
- Le num√©ro du jour (en bleu si c'est aujourd'hui)
- Liste des √©v√©nements (max 3 affich√©s)
- Un texte "+N de plus" si plus de 3 √©v√©nements
- Heure de d√©but ou symbole "üåê" pour "toute la journ√©e"

### Couleurs par cat√©gorie

| Cat√©gorie | Couleur |
|-----------|---------|
| Patrouille | Bleu |
| Formation | Vert |
| R√©union | Violet |
| Op√©ration | Rouge |
| Maintenance | Jaune |
| Tribunal | Indigo |
| Personnel | Rose |
| Autre | Gris |

### L√©gende

Une l√©gende compl√®te des couleurs s'affiche en bas du toolbar.

### √âv√©nements √† venir

Sous le calendrier, une section **"√âv√©nements √† venir"** affiche:
- Les 5 prochains √©v√©nements
- Tri√©s par date croissante
- Avec heure, lieu, et cat√©gorie
- Cliquez sur un √©v√©nement pour voir ses d√©tails

---

## Comportement et synchronisation

### Sauvegarde automatique

- Les √©v√©nements sont sauvegard√©s automatiquement dans votre navigateur
- Pas d'action "Enregistrer" n√©cessaire
- Les donn√©es persistent m√™me apr√®s fermeture du navigateur

### Synchronisation multi-onglet

- Si vous ouvrez le calendrier dans plusieurs onglets
- Les modifications dans un onglet se refl√®tent dans les autres
- Rafra√Æchissement instantan√©

### Donn√©es de test

- Au premier acc√®s, 4 √©v√©nements de test sont cr√©√©s
- Ces √©v√©nements ont des dates futures
- Vous pouvez les modifier ou supprimer

---

## Informations stock√©es

### Ce qui est sauvegard√© pour chaque √©v√©nement

```typescript
{
  id: "EVE-2025-001",        // ID unique g√©n√©r√© automatiquement
  title: "Briefing matinal",
  description: "R√©union quotidienne",
  startDate: "2025-11-01",
  endDate: "2025-11-01",
  startTime: "08:00",
  endTime: "08:30",
  category: "meeting",
  location: "Salle de briefing",
  attendees: ["Tous les agents"],
  createdBy: "Capitaine Johnson",
  isAllDay: false,
  recurrence: "none",
  createdAt: "2025-11-01T10:30:00Z",
  updatedAt: "2025-11-01T10:30:00Z"
}
```

### Limitations actuelles

- Maximum 3 √©v√©nements affich√©s par jour (les autres sont compt√©s)
- Pas de r√©currence automatique (champ pr√©sent mais non fonctionnel)
- Pas de notifications (fonctionnalit√© future)
- Pas d'int√©gration calendrier externe (iCal, Google Calendar) actuellement

---

## FAQ

### Q: Les donn√©es des √©v√©nements sont-elles sauvegard√©es sur le serveur?

**R**: Non, actuellement les √©v√©nements sont sauvegard√©s localement dans votre navigateur (localStorage). Cette impl√©mentation permet de tester facilement sans serveur. Une int√©gration future avec Supabase permettra la persistence serveur et la synchronisation en temps r√©el.

### Q: Puis-je partager les √©v√©nements avec d'autres utilisateurs?

**R**: Actuellement non, car les √©v√©nements sont locaux au navigateur. Chaque navigateur/appareil a ses propres √©v√©nements. Apr√®s migration vers Supabase, les √©v√©nements pourront √™tre partag√©s entre utilisateurs de la m√™me agence.

### Q: Que se passe-t-il si j'efface les donn√©es de mon navigateur?

**R**: Tous les √©v√©nements seront perdus car ils sont stock√©s en localStorage. Nous vous recommandons de ne pas vider le cache tant que les √©v√©nements ne sont pas synchronis√©s avec Supabase.

### Q: Puis-je cr√©er des √©v√©nements r√©currents?

**R**: Le champ existe mais la fonctionnalit√© n'est pas encore impl√©ment√©e. Actuellement, cr√©ez les √©v√©nements manuellement pour chaque occurrence.

### Q: Quel est le nombre maximum d'√©v√©nements?

**R**: Th√©oriquement illimit√©, mais les performances peuvent se d√©grader avec plus de 1000 √©v√©nements. Pour une meilleure exp√©rience, utilisez les filtres pour limiter l'affichage.

### Q: Les √©v√©nements pass√©s restent-ils visibles?

**R**: Oui, les √©v√©nements pass√©s restent dans le calendrier. Pour mieux g√©rer cela, utilisez la recherche et le filtrage.

### Q: Comment exporter les √©v√©nements?

**R**: L'export n'est pas encore disponible. Fonctionnalit√© pr√©vue: export en CSV, PDF, ou iCal.

### Q: Puis-je cr√©er des √©v√©nements sur d'autres agences?

**R**: Chaque calendrier est isol√© par agence. Pour voir/cr√©er des √©v√©nements pour une autre agence, visitez son calendrier respectif.

### Q: Comment revenir au mois courant?

**R**: Cliquez sur le bouton **"Aujourd'hui"** dans le toolbar du calendrier.

### Q: Puis-je afficher une vue semaine ou jour?

**R**: Pas actuellement. La vue mensuelle est la seule disponible dans cette version. Les vues week et day sont en d√©veloppement.

---

## Conseils d'utilisation

1. **Soyez sp√©cifique**: Utilisez des titres clairs et une description d√©taill√©e
2. **Utilisez les cat√©gories**: Aidez les autres √† classifier rapidement les √©v√©nements
3. **Indiquez le lieu**: Important pour les coordinations et les planifications
4. **Mettez √† jour r√©guli√®rement**: Si les plans changent, modifiez l'√©v√©nement
5. **Utilisez les filtres**: Pour trouver rapidement les √©v√©nements pertinents
6. **V√©rifiez les dates**: Les fuseaux horaires en localStorage ne sont pas g√©r√©s

---

## Support

Pour plus d'informations ou pour signaler des bugs:
- Consultez la documentation technique: `ARCHITECTURE-TECHNIQUE.md`
- V√©rifiez les chemins des fichiers pour comprendre l'impl√©mentation
- Ouvrez une issue sur le repository du projet

